{"ast":null,"code":"var _jsxFileName = \"/Users/agarci/Desktop/IronHack/2020-04-15-Conways-Game-of-Life/app/src/App.jsx\";\nimport React, { useState, useCallback, useRef } from \"react\";\nimport produce from \"immer\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Slider from \"@material-ui/core/Slider\";\nimport \"./App.css\";\nconst numRows = 40;\nconst numCols = 90;\n\nconst valueLabelFormat = value => {\n  const [coefficient, exponent] = value.toExponential().split(\"e\").map(item => Number(item));\n  return `${Math.round(coefficient)}e^${exponent}`;\n};\n\nconst operations = [[0, 1], [0, -1], [1, -1], [-1, 1], [1, 1], [-1, -1], [1, 0], [-1, 0]];\n\nconst generate = () => {\n  const rows = [];\n\n  for (let i = 0; i < numRows; i++) {\n    rows.push(Array.from(Array(numCols), () => 0));\n  }\n\n  return rows;\n};\n\nfunction App() {\n  const [value, setValue] = useState(1);\n  const [running, setRunning] = useState(false);\n  const [grid, setGrid] = useState(generate());\n  const runningRef = useRef();\n  runningRef.current = running;\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  const runSimulation = useCallback(() => {\n    if (!runningRef.current) {\n      return;\n    }\n\n    setGrid(value => {\n      return produce(value, gridCopy => {\n        for (let i = 0; i < numRows; i++) {\n          for (let k = 0; k < numCols; k++) {\n            let neighbors = 0;\n            operations.forEach(([x, y]) => {\n              const newI = i + x;\n              const newK = k + y;\n\n              if (newI >= 0 && newI < numRows && newK >= 0 && newK < numCols) {\n                neighbors += value[newI][newK];\n              }\n            });\n\n            if (neighbors < 2 || neighbors > 3) {\n              gridCopy[i][k] = 0;\n            } else if (value[i][k] === 0 && neighbors === 3) {\n              gridCopy[i][k] = 1;\n            }\n          }\n        }\n      });\n    });\n    setTimeout(runSimulation, value);\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, \"GAME THE LIVE\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => {\n      setRunning(!running);\n\n      if (!running) {\n        runningRef.current = true;\n        runSimulation();\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, running ? \"STOP\" : \"START\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    id: \"non-linear-slider\",\n    gutterBottom: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }, \"Velocidad\"), /*#__PURE__*/React.createElement(Slider, {\n    value: value,\n    min: 1000,\n    step: 0.1,\n    max: 6,\n    scale: x => x ** 10,\n    getAriaValueText: valueLabelFormat,\n    valueLabelFormat: valueLabelFormat,\n    onChange: handleChange,\n    valueLabelDisplay: \"auto\",\n    \"aria-labelledby\": \"non-linear-slider\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }\n  }, grid.map((rows, i) => rows.map((col, k) => /*#__PURE__*/React.createElement(\"div\", {\n    className: col ? \"active\" : \"inactive\",\n    key: `${i}-${k}`,\n    onClick: () => {\n      const newGrid = produce(grid, gridCopy => {\n        gridCopy[i][k] = grid[i][k] ? 0 : 1;\n      });\n      setGrid(newGrid);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }\n  })))));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/agarci/Desktop/IronHack/2020-04-15-Conways-Game-of-Life/app/src/App.jsx"],"names":["React","useState","useCallback","useRef","produce","Typography","Slider","numRows","numCols","valueLabelFormat","value","coefficient","exponent","toExponential","split","map","item","Number","Math","round","operations","generate","rows","i","push","Array","from","App","setValue","running","setRunning","grid","setGrid","runningRef","current","handleChange","event","newValue","runSimulation","gridCopy","k","neighbors","forEach","x","y","newI","newK","setTimeout","col","newGrid"],"mappings":"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","sourcesContent":["import React, { useState, useCallback, useRef } from \"react\";\nimport produce from \"immer\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Slider from \"@material-ui/core/Slider\";\nimport \"./App.css\";\n\nconst numRows = 40;\nconst numCols = 90;\n\nconst valueLabelFormat = value => {\n  const [coefficient, exponent] = value\n    .toExponential()\n    .split(\"e\")\n    .map(item => Number(item));\n  return `${Math.round(coefficient)}e^${exponent}`;\n};\n\nconst operations = [\n  [0, 1],\n  [0, -1],\n  [1, -1],\n  [-1, 1],\n  [1, 1],\n  [-1, -1],\n  [1, 0],\n  [-1, 0]\n];\n\nconst generate = () => {\n  const rows = [];\n  for (let i = 0; i < numRows; i++) {\n    rows.push(Array.from(Array(numCols), () => 0));\n  }\n\n  return rows;\n};\n\nfunction App() {\n  const [value, setValue] = useState(1);\n\n  const [running, setRunning] = useState(false);\n  const [grid, setGrid] = useState(generate());\n\n  const runningRef = useRef();\n  runningRef.current = running;\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n  const runSimulation = useCallback(() => {\n    if (!runningRef.current) {\n      return;\n    }\n\n    setGrid(value => {\n      return produce(value, gridCopy => {\n        for (let i = 0; i < numRows; i++) {\n          for (let k = 0; k < numCols; k++) {\n            let neighbors = 0;\n            operations.forEach(([x, y]) => {\n              const newI = i + x;\n              const newK = k + y;\n              if (newI >= 0 && newI < numRows && newK >= 0 && newK < numCols) {\n                neighbors += value[newI][newK];\n              }\n            });\n\n            if (neighbors < 2 || neighbors > 3) {\n              gridCopy[i][k] = 0;\n            } else if (value[i][k] === 0 && neighbors === 3) {\n              gridCopy[i][k] = 1;\n            }\n          }\n        }\n      });\n    });\n\n    setTimeout(runSimulation, value);\n  }, []);\n\n  return (\n    <>\n      <div>\n        <h1>GAME THE LIVE</h1>\n        <button\n          onClick={() => {\n            setRunning(!running);\n            if (!running) {\n              runningRef.current = true;\n              runSimulation();\n            }\n          }}\n        >\n          {running ? \"STOP\" : \"START\"}\n        </button>\n        <div>\n          <Typography id=\"non-linear-slider\" gutterBottom>\n            Velocidad\n          </Typography>\n          <Slider\n            value={value}\n            min={1000}\n            step={0.1}\n            max={6}\n            scale={x => x ** 10}\n            getAriaValueText={valueLabelFormat}\n            valueLabelFormat={valueLabelFormat}\n            onChange={handleChange}\n            valueLabelDisplay=\"auto\"\n            aria-labelledby=\"non-linear-slider\"\n          />\n        </div>\n      </div>\n\n      <div className=\"App\">\n        {grid.map((rows, i) =>\n          rows.map((col, k) => (\n            <div\n              className={col ? \"active\" : \"inactive\"}\n              key={`${i}-${k}`}\n              onClick={() => {\n                const newGrid = produce(grid, gridCopy => {\n                  gridCopy[i][k] = grid[i][k] ? 0 : 1;\n                });\n                setGrid(newGrid);\n              }}\n            />\n          ))\n        )}\n      </div>\n    </>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}