{"ast":null,"code":"var _jsxFileName = \"/Users/agarci/Desktop/IronHack/2020-04-15-Conways-Game-of-Life/app/src/App.jsx\";\nimport React, { useState, useEffect, useCallback, useRef } from \"react\";\nimport produce from \"immer\";\nimport \"./App.css\"; // const numRows = 50;\n// const numCols = 50;\n\nconst generateGrid = (numRows, numCols) => {\n  const rows = [];\n\n  for (let i = 0; i < numRows; i++) {\n    rows.push(Array.from(Array(Number(numCols)), () => 0));\n  }\n\n  return rows;\n};\n\nconst operations = [[0, 1], [0, -1], [1, -1], [-1, 1], [1, 1], [-1, -1], [1, 0], [-1, 0]];\n\nfunction App() {\n  const [numRows, setNumberRow] = useState(Number);\n  const [numCols, setNumberCol] = useState(Number);\n  const [running, setRunning] = useState(false);\n  const [grid, setGrid] = useState([]);\n\n  const handleChange = ({\n    target: {\n      id,\n      value\n    }\n  }) => id === \"col\" ? setNumberCol(value) : setNumberRow(value);\n\n  const runningRef = useRef();\n  runningRef.current = running;\n  const runSimulation = useCallback(() => {\n    if (!runningRef.current) {\n      return;\n    }\n\n    setGrid(g => {\n      return produce(g, gridCopy => {\n        for (let i = 0; i < numRows; i++) {\n          for (let k = 0; k < numCols; k++) {\n            let neighbors = 0;\n            operations.forEach(([x, y]) => {\n              const newI = i + x;\n              const newK = k + y;\n\n              if (newI >= 0 && newI < numRows && newK >= 0 && newK < numCols) {\n                neighbors += g[newI][newK];\n              }\n            });\n\n            if (neighbors < 2 || neighbors > 3) {\n              gridCopy[i][k] = 0;\n            } else if (g[i][k] === 0 && neighbors === 3) {\n              gridCopy[i][k] = 1;\n            }\n          }\n        }\n      });\n    });\n    setTimeout(runSimulation, 100);\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, \"GAME THE LIVE\"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"row\",\n    value: numRows,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"col\",\n    value: numCols,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => {\n      const rows = [];\n\n      for (let i = 0; i < Number(numRows); i++) {\n        rows.push(Array.from(Array(Number(numCols)), () => 0));\n      }\n\n      setGrid(rows);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }, \"random\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => {\n      setGrid(generateGrid());\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }, \"clear\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    style: {\n      gridTemplateColumns: `repeat(${numCols}, 20px)`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }\n  }, grid.map((rows, i) => rows.map((col, k) => /*#__PURE__*/React.createElement(\"div\", {\n    className: col ? \"active\" : \"inactive\",\n    key: `${i}-${k}`,\n    onClick: () => {\n      const newGrid = produce(grid, gridCopy => {\n        gridCopy[i][k] = grid[i][k] ? 0 : 1;\n      });\n      setGrid(newGrid);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  })))), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => {\n      setRunning(!running);\n\n      if (!running) {\n        runningRef.current = true;\n        runSimulation();\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }\n  }, running ? \"STOP\" : \"START\"));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/agarci/Desktop/IronHack/2020-04-15-Conways-Game-of-Life/app/src/App.jsx"],"names":["React","useState","useEffect","useCallback","useRef","produce","generateGrid","numRows","numCols","rows","i","push","Array","from","Number","operations","App","setNumberRow","setNumberCol","running","setRunning","grid","setGrid","handleChange","target","id","value","runningRef","current","runSimulation","g","gridCopy","k","neighbors","forEach","x","y","newI","newK","setTimeout","gridTemplateColumns","map","col","newGrid"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useCallback, useRef } from \"react\";\nimport produce from \"immer\";\nimport \"./App.css\";\n\n// const numRows = 50;\n// const numCols = 50;\n\nconst generateGrid = (numRows, numCols) => {\n  const rows = [];\n  for (let i = 0; i < numRows; i++) {\n    rows.push(Array.from(Array(Number(numCols)), () => 0));\n  }\n  return rows;\n};\n\nconst operations = [\n  [0, 1],\n  [0, -1],\n  [1, -1],\n  [-1, 1],\n  [1, 1],\n  [-1, -1],\n  [1, 0],\n  [-1, 0]\n];\n\nfunction App() {\n  const [numRows, setNumberRow] = useState(Number);\n  const [numCols, setNumberCol] = useState(Number);\n\n  const [running, setRunning] = useState(false);\n  const [grid, setGrid] = useState([]);\n\n  const handleChange = ({ target: { id, value } }) =>\n    id === \"col\" ? setNumberCol(value) : setNumberRow(value);\n\n  const runningRef = useRef();\n  runningRef.current = running;\n\n  const runSimulation = useCallback(() => {\n    if (!runningRef.current) {\n      return;\n    }\n\n    setGrid(g => {\n      return produce(g, gridCopy => {\n        for (let i = 0; i < numRows; i++) {\n          for (let k = 0; k < numCols; k++) {\n            let neighbors = 0;\n            operations.forEach(([x, y]) => {\n              const newI = i + x;\n              const newK = k + y;\n              if (newI >= 0 && newI < numRows && newK >= 0 && newK < numCols) {\n                neighbors += g[newI][newK];\n              }\n            });\n\n            if (neighbors < 2 || neighbors > 3) {\n              gridCopy[i][k] = 0;\n            } else if (g[i][k] === 0 && neighbors === 3) {\n              gridCopy[i][k] = 1;\n            }\n          }\n        }\n      });\n    });\n\n    setTimeout(runSimulation, 100);\n  }, []);\n\n  return (\n    <>\n      <h1>GAME THE LIVE</h1>\n      <input id=\"row\" value={numRows} onChange={handleChange} />\n      <input id=\"col\" value={numCols} onChange={handleChange} />\n      <button\n        onClick={() => {\n          const rows = [];\n          for (let i = 0; i < Number(numRows); i++) {\n            rows.push(\n              Array.from(Array(Number(numCols)), () =>  0)\n            );\n          }\n\n          setGrid(rows);\n        }}\n      >\n        random\n      </button>\n      <button\n        onClick={() => {\n          setGrid(generateGrid());\n        }}\n      >\n        clear\n      </button>\n      <div\n        className=\"App\"\n        style={{ gridTemplateColumns: `repeat(${numCols}, 20px)` }}\n      >\n        {grid.map((rows, i) =>\n          rows.map((col, k) => (\n            <div\n              className={col ? \"active\" : \"inactive\"}\n              key={`${i}-${k}`}\n              onClick={() => {\n                const newGrid = produce(grid, gridCopy => {\n                  gridCopy[i][k] = grid[i][k] ? 0 : 1;\n                });\n                setGrid(newGrid);\n              }}\n            />\n          ))\n        )}\n      </div>\n      <button onClick={() => {\n        setRunning(!running)\n        if (!running) {\n          runningRef.current = true;\n          runSimulation();\n        }\n      }}>\n        {running ? \"STOP\" : \"START\"}\n      </button>\n    </>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}